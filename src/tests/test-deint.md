# `test-deint.cpp` 作用及執行流程

`test-deint.cpp` 是一個用於測試 `qcap` 函式庫去交錯（deinterlacing）功能的程式。

此程式不使用真實的攝影機設備。它透過重複將從 `vsrc.jpg` 影像檔案載入的影格推送到緩衝區佇列中，來模擬一個 30 FPS 的影像來源。

測試的核心流程包含以下步驟：

1.  **建立模擬影像來源**：程式建立一個模擬的影像來源，以穩定的速率產生影格。
2.  **設定影像縮放器**：實例化一個 `qcap2_video_scaler`，並將其設定為使用 FFmpeg 的 `yadif` 濾鏡來執行去交錯處理。
3.  **推送影格**：從模擬來源產生的影格被推送到影像縮放器中。
4.  **處理影格**：影像縮放器對影格進行去交錯處理。
5.  **接收處理後的影格**：程式從縮放器接收處理完成的影格。
6.  **紀錄資訊**：使用日誌記錄影格在整個處理流程中的時間戳和流動情況，以供分析。

主應用程式允許使用者透過按下鍵盤按鍵 `1` 來觸發此測試案例。
